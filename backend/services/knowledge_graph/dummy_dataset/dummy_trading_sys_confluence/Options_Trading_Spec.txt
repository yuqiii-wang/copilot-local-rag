Title: Options Trading Specification
Space: Product / Derivatives
Author: Head Trader
Last Updated: 2024-01-20

# Overview
This document outlines the behavior for the new Option security types (`com.trading.dummy.model.Option`).

# Supported Types
*   **Call**: Buyer has right to buy underlying.
*   **Put**: Buyer has right to sell underlying.
*   **Style**: American (Exercisable any time) - *For Release 1, we will treat as European for valuation.*

# Booking Model
Options are booked as standard `Security` objects but with extra fields:
*   `strikePrice` (double)
*   `expiryDate` (LocalDate)
*   `optionType` (Enum: Call/Put)
*   `underlying` (Security reference)

# Valuation
We use the Black-Scholes model.
$$ C = S_t N(d_1) - K e^{-rt} N(d_2) $$
Where:
*   $S_t$: Spot price of underlying
*   $K$: Strike price
*   $r$: Risk-free rate (Global config)
*   $t$: Time to maturity

# Margin Impact
Options are risky. Long options require 100% premium payment upfront.
Short options are subject to **Span-like** scanning range risk.
For the Dummy system, we use a simplified rule:
*   Short Call Margin = 20% of Underlying Value - Out of Money Amount.
