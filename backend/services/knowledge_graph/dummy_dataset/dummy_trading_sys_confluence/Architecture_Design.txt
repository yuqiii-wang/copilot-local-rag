Title: Architecture Design Document
Space: Engineering / Trading Platform
Author: System Architect
Last Updated: 2023-10-20

# System Context
The Trading System acts as the central hub between the User (UI/API) and the Market (Exchange/Simulator).

```mermaid
graph TD
    User -->|Submit Order| ExecutionEngine
    ExecutionEngine -->|Check Risk| RiskManager
    ExecutionEngine -->|Get Price| Pricer
    Pricer -->|Feed| MarketData
    ExecutionEngine -->|Update| Portfolio
    Portfolio -->|Calc Margin| MarginService
```

# Component Details

## Execution Engine
The `ExecutionEngine` is the single entry point for order flow. It orchestrates the validation, risk check, and execution steps.
*   **Synchronous Processing**: Currently, orders are processed sequentially to ensure correct state.
*   **Matching**: Simple internal matching logic against the latest market price (Simulated Exchange).

## Risk Manager
The `RiskManager` enforces limits defined in `RiskLimit`.
*   **Gross Exposure**: Sum of absolute value of all positions.
*   **Net Exposure**: Sum of net value of all positions.

## Pricing
The `SimplePricer` maintains an in-memory map of the latest `MarketData` for every security.
*   *Future Improvement*: Connect to a real-time feed (Bloomberg/Reuters).

# Data Persistence
*   Currently In-Memory only (ArrayList/HashMap).
*   *Roadmap*: Integrate a Database (Postgres/Oracle) for Trade and Position persistence.
